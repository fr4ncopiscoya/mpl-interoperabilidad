<div class="row">
    <div class="col-lg-12">
        <div class="card mt-n4 mx-n4 border-0 rounded-0 bg-primary-subtle">
            <div class="card-body pb-0 px-4">
                <div class="row justify-content-between align-items-center g-3 mb-5 pb-1 pt-3">
                    <div class="col-lg-4">
                        <h4 class="mb-0">Gestion de Usuarios</h4>
                    </div>
                    <!-- <div class="col-lg-4">
                        <div class="search-box">
                            <input type="text" class="form-control border-0" id="searchResultList"
                                placeholder="Search for name or number..." autocomplete="off">
                            <i class="ri-search-line search-icon"></i>
                        </div>
                    </div> -->
                </div>
            </div>
            <!-- end card body -->
        </div>
        <!-- end card -->
    </div>
    <!-- end col -->
</div>

<div class="row mt-n5">
    <div class="col-lg-3">
        <div class="card" style="min-height: calc(100vh - 70px - 60px - 142px);">
            <div class="card-body">
                <button type="button" class="btn btn-primary w-100 addContact-modal"
                    (click)="this.openAddUserModal('')"><i class="bi bi-plus align-middle"></i> Agregar</button>
                <div class="mt-3 mx-n4 px-4 contact-sidebar-menu" data-simplebar>

                    <img src="assets/images/logo-mpl-black.png" class="w-100" alt="">
                    <!-- <ul class="list-unstyled contact-menu-list">
                        <li>
                            <a href="#!" class="active"><i class="ri-folder-2-line align-bottom me-2"></i>
                                <span class="menu-list-link" data-tab="all">Todos</span></a>
                        </li>
                        <li>
                            <a href="#!"><i class="ri-group-line align-bottom me-2"></i> <span class="menu-list-link"
                                    data-tab="groups">Activos</span></a>
                        </li>
                        <li>
                            <a href="#!"><i class="ri-delete-bin-line align-bottom me-2"></i> <span
                                    class="menu-list-link" data-tab="trash">Deleted</span></a>
                        </li>
                    </ul> -->

                    <!-- <p class="text-muted mb-2">Etiquetas</p>
                    <ul class="list-unstyled contact-menu-list">
                        <li>
                            <a href="#!" class="text-body"><i
                                    class="bi bi-tag-fill align-middle me-2 text-success"></i> <span
                                    class="menu-list-link" data-label="Friends">Activos</span></a>
                        </li>
                        <li>
                            <a href="#!" class="text-body"><i class="bi bi-tag-fill align-middle me-2 text-danger"></i>
                                <span class="menu-list-link" data-label="Imported">Inactivos</span></a>
                        </li>
                    </ul> -->
                </div>
            </div>
        </div>
    </div>
    <!--end col-->

    <!-- <div class="row"> -->
    <div class="col-lg-9">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title mb-0">RESULTADOS</h4>
            </div><!-- end card header -->

            <div class="card-body">
                <div id="table-card" class="table-card"></div>
            </div><!-- end card-body -->
        </div><!-- end card -->
    </div>
    <!-- end col -->
    <!-- </div> -->

    <!-- <div class="col-lg-9">
        <div class="card">
            <div class="card-body">
                <div id="recomended-jobs" class="table-card"></div>
            </div>
        </div>
    </div> -->

    <!--end col-->

    <!-- End Page-content -->
</div>

<app-modal #editarModulos [title]="'EDITAR MODULOS'" [size]="'modal-sm'" [bgcolor]="'bg-secondary'">

    <div modal-body>
        <!-- <form > -->
        <input type="hidden" [id]="" class="form-control" value="">
        <div class="d-flex flex-column gap-3">

            <ng-container *ngFor="let item of dataMenus()">
                <div class="form-check form-switch">
                    <input class="form-check-input" [value]="item.ID" [(ngModel)]="item.ESTATUS"  type="checkbox">
                    <label class="form-check-label" for="flexSwitchCheckDefault">{{item.DESCRIPCION}}</label>
                </div>
            </ng-container>

            <div class="text-end">
                <!-- <button type="button" class="btn btn-secondary" id="" (click)="this.openModal()">Agregar Usuario</button> -->
                <!-- <button type="submit" class="btn btn-secondary" id="addNewContact" (click)="this.addUser()">Agregar
                    Usuario</button> -->
            </div>
        </div>
        <!-- </form> -->
    </div>

    <div modal-footer>
        <!-- <button type="button" class="btn w-sm btn-light" data-bs-dismiss="modal">Close</button> -->
        <button type="button" class="btn w-sm btn-secondary" (click)="addPermissionsByUser()" >Guardar</button>
    </div>
</app-modal>

<app-modal #agregarUsuario [title]="titleModal() + ' USUARIO'" [size]="''" [bgcolor]="titleModal() == 'AGREGAR' ? 'bg-primary': 'bg-warning'">

    <div modal-body>
        <div class="d-flex flex-column gap-3">
            <div class="row">
                <div class="col-6">
                    <label for="name" class="form-label">Nombres</label>
                    <input type="text" [value]="usu_nombres()" (input)="usu_nombres.set($any($event.target).value)" class="form-control" required />
                </div>
                <div class="col-6">
                    <label for="name" class="form-label">Apellidos</label>
                    <input type="text" [value]="usu_apellidos()" (input)="usu_apellidos.set($any($event.target).value)" class="form-control" required />
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <label for="name" class="form-label">Usuario</label>
                    <input type="text" [value]="usu_usuario()" (input)="usu_usuario.set($any($event.target).value)" class="form-control" required />
                </div>
                <div class="col-6">
                    <label for="name" class="form-label">Contrase√±a</label>
                    <input type="password" [value]="usu_password()" (input)="usu_password.set($any($event.target).value)" class="form-control" required />
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <label for="phoneNumber" class="form-label">DNI</label>
                    <input type="phone" [value]="usu_dni()" (input)="usu_dni.set($any($event.target).value)" class="form-control" required />
                </div>
                <div class="col-6">
                    <label for="country" class="form-label">Estado</label>
                    <select [ngClass]="usu_estado() == 1 ? 'bg-success' : 'bg-danger'" class="form-select" id="area" [ngModel]="usu_estado()"
                        (ngModelChange)="usu_estado.set($event)" required>
                        <option *ngFor="let item of status" [value]="item.ESTATUS">
                            {{ item.name }}
                        </option>
                    </select>
                </div>
            </div>
            <div>
                <label for="email" class="form-label">Correo</label>
                <input type="email" [value]="usu_correo()" (input)="usu_correo.set($any($event.target).value)" class="form-control" required />
            </div>
            <div>
                <label for="country" class="form-label">Area</label>
                <select class="form-select" id="area" [ngModel]="usu_area()" (ngModelChange)="usu_area.set($event)"
                    required>
                    <option *ngFor="let item of dataAreas()" [value]="item.id_area">
                        {{ item.nombre }}
                    </option>
                </select>
            </div>
        </div>
        <!-- </form> -->
    </div>

    <div modal-footer>
        <button type="button" [ngClass]="titleModal() =='EDITAR' ? 'btn-warning' : 'btn-primary'"
            class="btn w-sm btn-primary" (click)="addUser()" >{{titleModal()}}</button>
    </div>
</app-modal>

<app-alert-modal #alertModal [title]="'Eliminar este usuario?'" [description]="'Estas seguro de eliminar el usuario: '"
    [icon]="'bi-trash'">
    <div modal-footer>
        <button type="button" class="btn w-sm btn-danger" id="remove-contact">Si, Eliminar</button>
    </div>
</app-alert-modal>